# markets.jp

<img width="733" alt="markets-top" src="https://user-images.githubusercontent.com/39334151/110884340-500ea680-8328-11eb-8204-f5ef578e989d.png">

![markets5](https://user-images.githubusercontent.com/39334151/110884366-5c92ff00-8328-11eb-8599-73a725972cb8.png)

<img width="1215" alt="markets-items" src="https://user-images.githubusercontent.com/39334151/110893878-2fe7e300-833a-11eb-9210-97329d73fa0d.png">

## サービス概要

フリマサイトの一括検索サービス。現在は大手 3 社のサービスに対応。

## 主な使用技術

言語：Javascript  
ライブラリ：React, Redux, Redux-Saga, Redux-Form, React-Router, Material-UI etc.

バックエンドは[こちら](https://github.com/tipotto/markets-server)

## 開発の背景

今後追加する。

## サービスの特徴

### 対応プラットフォーム

主要な大手 3 社のフリマサービスに対応。

- メルカリ
- ラクマ
- PayPay フリマ

### 豊富な検索オプション

ユーザーのニーズにマッチする、精度の高い検索結果を提供。

- 商品カテゴリ（メインカテゴリ、サブカテゴリ）
- 価格
- 商品の状態
- 販売状況
- 配送料の有無
- 検索結果の並び順

### シンプルな購入導線

検索結果から魅力的な商品を見つけたら、ワンクリックで各フリマサイトの商品ページへ遷移。  
アクセス先のページで詳細情報の確認や購入が可能。

## 技術的観点での特徴

### ノンブロッキング I/O によるスクレイピング

asyncio, aiohttp といったノンブロッキング I/O に対応したモジュールを採用。  
それにより、CPU のリソースを有効活用しつつ、コルーチンやイベントループを利用することで複数サイトへのスクレイピングを高速化。

### アクセス元 IP の秘匿

リクエストの度に、各ターゲットサイトごとにプロキシプールからプロキシ（SOCKS プロキシ）をランダムに選択。  
プロキシ経由でのアクセスにより、markets.jp の IP アドレスを秘匿。

### ブラウザ経由の人的アクセスを再現

HTTP リクエストヘッダーの項目や値は、ユーザーが使用する OS やブラウザによって異なる。  
そのためリクエストの度に OS、ブラウザをランダムに選択し、その組み合わせに適したリクエストヘッダーを生成することで、ブラウザ経由での人的アクセスを再現。

### クラスタリングによるマルチスレッド化

マルチコア環境でのマルチスレッド化により、大量のリクエストを並列処理。  
それによりパフォーマンスの高速化、スループットの向上を実現。
